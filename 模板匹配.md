# **模板匹配**

## <font size=2 color="black">1.模板匹配简介</font>

<font size=1 color="black">①模板匹配和卷积原理很像，模板在原图像上从原点开始滑动，计算模板与（图像被模板覆盖的地方）的差别程度（例如值127与值190的区别），这个差别程度的计算方法在opencv里有6种，然后将每次计算的结果放入一个矩阵里，作为结果输出。</font>

<font size=1 color="black">②假如原图形是AxB大小，而模板是axb大小，则输出结果的矩阵是(A-a+1)x(B-b+1)。</font>

<font size=1 color="black">③ 模板匹配计算方式6种方式 ( 用归一化后的方式更好一些 )：</font>

* <font size=1 color="black">TM_SQDIFF：计算平方不同，计算出来的值越小，越相关。</font>
* <font size=1 color="black">TM_CCORR：计算相关性，计算出来的值越大，越相关。</font>
* <font size=1 color="black">TM_CCOEFF：计算相关系数，计算出来的值越大，越相关。</font>
* <font size=1 color="black">TM_SQDIFF_NORMED：计算归一化平方不同，计算出来的值越接近0，越相关。</font>
* <font size=1 color="black">TM_CCORR_NORMED：计算归一化相关性，计算出来的值越接近1，越相关。</font>
* <font size=1 color="black">TM_CCOEFF_NORMED：计算归一化相关系数，计算出来的值越接近1，越相关。</font>

<font size=1 color="black">④公式：https://docs.opencv.org/3.3.1/df/dfb/group__imgproc__object.html#ga3a7850640f1fe1f58fe91a2d7583695d</font>

## <font size=2 color="black">2.模板匹配单个对象</font>

```python
import cv2 #opencv的缩写为cv2
import matplotlib.pyplot as plt # matplotlib库用于绘图展示
import numpy as np   # numpy数值计算工具包

# 魔法指令，直接展示图，Jupyter notebook特有
%matplotlib inline  

template = cv2.imread('01_Picture/12_Face.jpg',0)  # 0 表示以灰度图方式读取
img = cv2.imread('01_Picture/13_Lena.jpg',0) 
h, w = template.shape[:2] # 获得模板的宽和高
print(img.shape)
print(template.shape)
```




































